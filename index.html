<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø± ÙˆØ§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ† â€” Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ§Ø±ÙŠØ®</title>

  <!-- SEO -->
  <meta name="description" content="Ø­Ø§Ø³Ø¨Ø© Ø¹Ù…Ø± Ø¯Ù‚ÙŠÙ‚Ø© (Ø³Ù†ÙˆØ§Øª/Ø£Ø´Ù‡Ø±/Ø£ÙŠØ§Ù…) + Ø¹Ø¯Ø§Ø¯ Ù…Ø¨Ø§Ø´Ø± Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ + ÙƒÙ… Ø¨Ø§Ù‚ÙŠ Ø¹Ù„Ù‰ Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ + Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ†. Ù…Ø¬Ø§Ù†ÙŠØ© ÙˆØ³Ø±ÙŠØ¹Ø©." />
  <meta name="keywords" content="Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø±, Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…Ø±, Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ†, age calculator, date difference" />
  <meta name="author" content="Age Tools" />
  <meta name="theme-color" content="#0f2b5b" />
  <link rel="canonical" href="https://kouchiaziz.github.io/age-calculator/" />

  <!-- Open Graph -->
  <meta property="og:title" content="Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ§Ø±ÙŠØ® â€” Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø±" />
  <meta property="og:description" content="Ø§Ø­Ø³Ø¨ Ø¹Ù…Ø±Ùƒ Ø¨Ø¯Ù‚Ø© + Ø¹Ø¯Ø§Ø¯ Ù…Ø¨Ø§Ø´Ø± + Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ†." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://kouchiaziz.github.io/age-calculator/" />

  <style>
    :root{
      --bgA:#0b1b3a;
      --bgB:#0f2b5b;
      --bgC:#1d4f91;
      --card:#ffffff;
      --text:#0e1a2b;
      --muted:#5b677a;
      --border:#e7ecf4;
      --accent:#1a5ad7;
      --accent2:#1146a8;
      --shadow: 0 16px 45px rgba(0,0,0,.18);
      --radius: 18px;
      --max: 1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1000px 600px at 50% 0%, #2d78d6 0%, var(--bgC) 38%, var(--bgB) 70%, var(--bgA) 100%);
      padding:22px;
    }
    a{color:inherit}
    .container{width:min(var(--max), 100%); margin:0 auto;}
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; margin-bottom:14px; color:#eaf2ff;
    }
    .brand{
      display:flex; align-items:center; gap:10px; user-select:none;
    }
    .logo{
      width:38px; height:38px; border-radius:12px;
      background:rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.18);
      display:grid; place-items:center;
      box-shadow: 0 10px 20px rgba(0,0,0,.12);
    }
    .brand h1{
      margin:0;
      font-size:16px;
      letter-spacing:.2px;
    }
    .brand .sub{opacity:.9; font-size:12px; margin-top:2px}
    .nav{
      display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end;
    }
    .nav a{
      text-decoration:none;
      padding:10px 12px;
      border-radius:999px;
      background:rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.14);
      font-size:13px;
      font-weight:700;
      transition:.2s;
    }
    .nav a:hover{background:rgba(255,255,255,.16)}
    .hero{
      color:#eaf2ff;
      text-align:center;
      margin:10px 0 18px;
    }
    .hero h2{
      margin:0 0 8px 0;
      font-size: clamp(20px, 3vw, 34px);
    }
    .hero p{margin:0; opacity:.92; font-size:14px; line-height:1.7}

    .layout{
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
    }
    @media (min-width: 980px){
      .layout{grid-template-columns: 1.25fr .75fr;}
    }
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
    }

    .ads{
      border:1px dashed #cfe0ff;
      background: #f4f8ff;
      border-radius:16px;
      padding:14px;
      color:#1b3a6b;
      font-size:13px;
      line-height:1.7;
    }
    .ads b{color:#0b2a57}

    .tabs{display:flex; gap:10px; flex-wrap:wrap; margin-bottom:12px;}
    .tab{
      border:1px solid var(--border);
      background:#f7f9fc;
      color:var(--text);
      padding:10px 12px;
      border-radius:999px;
      cursor:pointer;
      font-weight:800;
      font-size:13px;
      user-select:none;
      transition:.2s;
    }
    .tab.active{
      background:#eaf2ff;
      border-color:#cfe0ff;
      color:var(--accent2);
    }
    .panel{display:none;}
    .panel.active{display:block;}

    label{display:block; font-size:13px; color:var(--muted); margin-bottom:6px;}
    input{
      width:100%;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid var(--border);
      font-size:15px;
      outline:none;
    }
    input:focus{border-color:#b9d2ff; box-shadow:0 0 0 4px rgba(64,132,255,.12);}

    .row{display:grid; gap:12px; margin-top:10px;}
    @media (min-width: 560px){ .row.two{grid-template-columns:1fr 1fr;} }

    .btns{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;}
    button{
      border:0; cursor:pointer;
      background:var(--accent);
      color:#fff;
      padding:12px 14px;
      border-radius:12px;
      font-weight:900;
      font-size:13px;
      transition:.2s;
    }
    button:hover{background:var(--accent2);}
    button.secondary{
      background:#eef2f8;
      color:var(--text);
      border:1px solid var(--border);
    }
    button.secondary:hover{background:#e6ebf5;}

    .result{
      margin-top:14px;
      padding:14px;
      border-radius:16px;
      background:#f7f9fc;
      border:1px solid var(--border);
    }
    .result h3{margin:0 0 8px 0; color:var(--accent2); font-size:14px;}
    .big{font-size:18px; font-weight:950; line-height:1.6;}
    .muted{color:var(--muted); font-size:13px; line-height:1.7;}

    .kpis{display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px;}
    @media (min-width: 560px){ .kpis{grid-template-columns: repeat(3, 1fr);} }
    .kpi{background:#fff; border:1px solid var(--border); border-radius:16px; padding:12px;}
    .kpi .t{font-size:12px; color:var(--muted); margin-bottom:4px;}
    .kpi .v{font-size:16px; font-weight:950;}

    .side h3{margin:0 0 8px 0; color:var(--accent2);}
    .list{margin:0; padding-right:18px; color:var(--muted); font-size:13px; line-height:1.8;}
    .pill{
      display:inline-block; padding:8px 10px; border-radius:999px;
      background:#f7f9fc; border:1px solid var(--border);
      font-size:12px; font-weight:900; color:#294a7b;
      margin-top:10px;
    }

    footer{
      margin-top:16px;
      text-align:center;
      color:#eaf2ff;
      opacity:.9;
      font-size:12px;
      line-height:1.8;
    }
    footer a{color:#eaf2ff; text-decoration:underline; text-underline-offset:2px;}

    .sr-only{
      position:absolute; width:1px; height:1px; padding:0; margin:-1px;
      overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
    }
  </style>

  <!-- Structured data -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ§Ø±ÙŠØ® â€” Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø±",
    "url":"https://kouchiaziz.github.io/age-calculator/",
    "description":"Ø­Ø§Ø³Ø¨Ø© Ø¹Ù…Ø± Ø¯Ù‚ÙŠÙ‚Ø© + Ø¹Ø¯Ø§Ø¯ Ù…Ø¨Ø§Ø´Ø± + Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ†."
  }
  </script>

  <!-- (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) Ø¶Ø¹ ÙƒÙˆØ¯ Google Analytics Ù‡Ù†Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§ -->

  <!-- (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) AdSense: Ø¶Ø¹ ÙƒÙˆØ¯ AdSense Ù‡Ù†Ø§ Ø¨Ø¹Ø¯ Ù‚Ø¨ÙˆÙ„ Ø­Ø³Ø§Ø¨Ùƒ
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXX" crossorigin="anonymous"></script>
  -->
</head>

<body>
  <div class="container">
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true">ğŸ—“ï¸</div>
        <div>
          <h1>Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ§Ø±ÙŠØ®</h1>
          <div class="sub">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø± â€” Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ†</div>
        </div>
      </div>

      <nav class="nav" aria-label="Ø§Ù„ØªÙ†Ù‚Ù„">
        <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
        <a href="about.html">Ù…Ù† Ù†Ø­Ù†</a>
        <a href="privacy.html">Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
        <a href="contact.html">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
      </nav>
    </div>

    <section class="hero">
      <h2>Ø§Ø­Ø³Ø¨ Ø¹Ù…Ø±Ùƒ Ø¨Ø¯Ù‚Ø© Ø®Ù„Ø§Ù„ Ø«ÙˆØ§Ù†Ù</h2>
      <p>Ø³Ù†ÙˆØ§Øª/Ø£Ø´Ù‡Ø±/Ø£ÙŠØ§Ù… + Ø¹Ø¯Ø§Ø¯ Ù…Ø¨Ø§Ø´Ø± + ÙƒÙ… Ø¨Ø§Ù‚ÙŠ Ø¹Ù„Ù‰ Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ + Ø­Ø³Ø§Ø¨ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ† â€” Ø¨Ø¯ÙˆÙ† ØªØ³Ø¬ÙŠÙ„.</p>
    </section>

    <div class="layout">
      <main class="card" aria-label="Ø§Ù„Ø£Ø¯Ø§Ø©">
        <div class="tabs" role="tablist" aria-label="Ø§Ù„Ø£Ø¯ÙˆØ§Øª">
          <button class="tab active" type="button" data-tab="age" role="tab" aria-selected="true">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø±</button>
          <button class="tab" type="button" data-tab="diff" role="tab" aria-selected="false">Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ†</button>
        </div>

        <!-- AGE -->
        <section class="panel active" id="age" role="tabpanel">
          <div class="row two">
            <div>
              <label for="birthdate">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø²Ø¯ÙŠØ§Ø¯</label>
              <input type="date" id="birthdate" />
            </div>
            <div>
              <label for="asof">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø³Ø§Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
              <input type="date" id="asof" />
              <div class="muted">Ø§ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºÙ‹Ø§ Ù„ÙŠØ­Ø³Ø¨ Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙˆÙ….</div>
            </div>
          </div>

          <div class="btns">
            <button id="calcAgeBtn" type="button">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù…Ø±</button>
            <button class="secondary" id="clearAgeBtn" type="button">Ù…Ø³Ø­</button>
          </div>

          <div class="result" id="ageResult" style="display:none;">
            <h3>Ø§Ù„Ù†ØªÙŠØ¬Ø©</h3>
            <div class="big" id="ageText"></div>

            <div class="kpis" id="ageKpis"></div>

            <div class="result" style="margin-top:12px; background:#fff;">
              <h3>Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ù…Ø± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</h3>
              <div class="big" id="liveText">â€”</div>
              <div class="muted">ÙŠØ´ØªØºÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø³Ø§Ø¨.</div>
            </div>

            <div class="result" style="margin-top:12px; background:#fff;">
              <h3>Ø¨Ø§Ù‚ÙŠ Ø¹Ù„Ù‰ Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ</h3>
              <div class="big" id="bdayText">â€”</div>
              <div class="muted" id="bdayDateText"></div>
            </div>
          </div>
        </section>

        <!-- DIFF -->
        <section class="panel" id="diff" role="tabpanel">
          <div class="row two">
            <div>
              <label for="d1">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø£ÙˆÙ„</label>
              <input type="date" id="d1" />
            </div>
            <div>
              <label for="d2">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø«Ø§Ù†ÙŠ</label>
              <input type="date" id="d2" />
            </div>
          </div>

          <div class="btns">
            <button id="calcDiffBtn" type="button">Ø§Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ù‚</button>
            <button class="secondary" id="clearDiffBtn" type="button">Ù…Ø³Ø­</button>
          </div>

          <div class="result" id="diffResult" style="display:none;">
            <h3>Ø§Ù„Ù†ØªÙŠØ¬Ø©</h3>
            <div class="big" id="diffText"></div>
            <div class="kpis" id="diffKpis"></div>
            <div class="muted">Ø§Ù„Ù†ØªÙŠØ¬Ø© ØªØ¹Ø±Ø¶ ÙØ±Ù‚Ù‹Ø§ ØªÙ‚ÙˆÙŠÙ…ÙŠÙ‹Ø§ (Ø³Ù†ÙˆØ§Øª/Ø£Ø´Ù‡Ø±/Ø£ÙŠØ§Ù…) + ÙØ±Ù‚Ù‹Ø§ Ø¥Ø¬Ù…Ø§Ù„ÙŠÙ‹Ø§ Ø¨Ø§Ù„Ø£ÙŠØ§Ù….</div>
          </div>
        </section>
        
      </main>
    </div>

    <footer>
      Â© <span id="y"></span> Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ§Ø±ÙŠØ® â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©. |
      <a href="privacy.html">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a> |
      <a href="contact.html">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
    </footer>
  </div>
  <aside class="card side" aria-label="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª">
  <h3>Ù„Ù…Ø§Ø°Ø§ ØªØ³ØªØ®Ø¯Ù… Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø±ØŸ</h3>
  <ul class="list">
    <li>Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…Ø± Ø¨Ø§Ù„Ø³Ù†ÙˆØ§Øª ÙˆØ§Ù„Ø£Ø´Ù‡Ø± ÙˆØ§Ù„Ø£ÙŠØ§Ù… Ø¨Ø¯Ù‚Ø©</li>
    <li>Ù…Ø¹Ø±ÙØ© Ø¹Ù…Ø±Ùƒ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¨Ø§Ù„Ø£ÙŠØ§Ù… ÙˆØ§Ù„Ø³Ø§Ø¹Ø§Øª</li>
    <li>Ù…Ø¹Ø±ÙØ© Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ø­ØªÙ‰ Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ Ø§Ù„Ù‚Ø§Ø¯Ù…</li>
    <li>Ø­Ø³Ø§Ø¨ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ† Ø¨Ø³Ù‡ÙˆÙ„Ø©</li>
  </ul>

  <div class="result" style="margin-top:12px; background:#fff;">
    <h3>Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
    <div class="muted">
      â€¢ Ù…Ø¬Ø§Ù†ÙŠ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„<br/>
      â€¢ Ù„Ø§ ÙŠØ­ØªØ§Ø¬ ØªØ³Ø¬ÙŠÙ„<br/>
      â€¢ Ø³Ø±ÙŠØ¹ ÙˆØ³Ù‡Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…<br/>
      â€¢ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ ÙˆØ§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±
    </div>
  </div>
</aside>


<script>
  // Footer year
  document.getElementById("y").textContent = new Date().getFullYear();

  // Tabs
  const tabs = document.querySelectorAll(".tab");
  const panels = document.querySelectorAll(".panel");
  tabs.forEach(t => {
    t.addEventListener("click", () => {
      tabs.forEach(x => { x.classList.remove("active"); x.setAttribute("aria-selected","false"); });
      t.classList.add("active"); t.setAttribute("aria-selected","true");
      const id = t.dataset.tab;
      panels.forEach(p => p.classList.toggle("active", p.id === id));
    });
  });

  // Helpers
  const pad2 = (n) => String(n).padStart(2, "0");
  function parseDateInput(value){
    if(!value) return null;
    const [y,m,d] = value.split("-").map(Number);
    return new Date(y, m-1, d, 12, 0, 0, 0); // noon avoids DST issues
  }
  function diffYMD(from, to){
    let years = to.getFullYear() - from.getFullYear();
    let months = to.getMonth() - from.getMonth();
    let days = to.getDate() - from.getDate();
    if (days < 0) {
      months--;
      const prevMonthLastDay = new Date(to.getFullYear(), to.getMonth(), 0).getDate();
      days += prevMonthLastDay;
    }
    if (months < 0) {
      years--;
      months += 12;
    }
    return { years, months, days };
  }
  function daysBetween(a,b){
    const ms = b.getTime() - a.getTime();
    return Math.round(ms / (1000*60*60*24));
  }
  function formatNumber(n){
    return new Intl.NumberFormat("ar-MA").format(n);
  }

  // Age tool
  const birthEl = document.getElementById("birthdate");
  const asofEl = document.getElementById("asof");
  const ageBtn = document.getElementById("calcAgeBtn");
  const clearAgeBtn = document.getElementById("clearAgeBtn");
  const ageResult = document.getElementById("ageResult");
  const ageText = document.getElementById("ageText");
  const ageKpis = document.getElementById("ageKpis");
  const liveText = document.getElementById("liveText");
  const bdayText = document.getElementById("bdayText");
  const bdayDateText = document.getElementById("bdayDateText");

  let liveTimer = null;
  let liveBirth = null;

  function stopLive(){
    if(liveTimer) clearInterval(liveTimer);
    liveTimer = null;
    liveBirth = null;
  }

  function renderAge(){
    const birth = parseDateInput(birthEl.value);
    const asof = parseDateInput(asofEl.value) || new Date();
    if(!birth){ alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø²Ø¯ÙŠØ§Ø¯."); return; }

    const asofSafe = new Date(asof.getFullYear(), asof.getMonth(), asof.getDate(), 12,0,0,0);
    if(asofSafe.getTime() < birth.getTime()){
      alert("ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø³Ø§Ø¨ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨Ø¹Ø¯ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø²Ø¯ÙŠØ§Ø¯.");
      return;
    }

    const ymd = diffYMD(birth, asofSafe);
    ageText.textContent = `Ø¹Ù…Ø±Ùƒ: ${ymd.years} Ø³Ù†Ø©ØŒ ${ymd.months} Ø´Ù‡Ø±ØŒ ${ymd.days} ÙŠÙˆÙ…`;

    const totalDays = daysBetween(birth, asofSafe);
    ageKpis.innerHTML = `
      <div class="kpi"><div class="t">Ø§Ù„Ø£ÙŠØ§Ù…</div><div class="v">${formatNumber(totalDays)}</div></div>
      <div class="kpi"><div class="t">Ø§Ù„Ø£Ø³Ø§Ø¨ÙŠØ¹ (ØªÙ‚Ø±ÙŠØ¨)</div><div class="v">${formatNumber(Math.floor(totalDays/7))}</div></div>
      <div class="kpi"><div class="t">Ø§Ù„Ø³Ø§Ø¹Ø§Øª (ØªÙ‚Ø±ÙŠØ¨)</div><div class="v">${formatNumber(totalDays*24)}</div></div>
    `;

    // Next birthday
    const now = new Date();
    const todayNoon = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 12,0,0,0);

    let nextBday = new Date(todayNoon.getFullYear(), birth.getMonth(), birth.getDate(), 12,0,0,0);

    // Feb 29 handling -> Feb 28 in non-leap years
    if (birth.getMonth() === 1 && birth.getDate() === 29) {
      const y = nextBday.getFullYear();
      const isLeap = (y%4===0 && y%100!==0) || (y%400===0);
      if(!isLeap) nextBday = new Date(y,1,28,12,0,0,0);
    }

    if(nextBday.getTime() < todayNoon.getTime()){
      nextBday = new Date(todayNoon.getFullYear()+1, birth.getMonth(), birth.getDate(), 12,0,0,0);
      if (birth.getMonth() === 1 && birth.getDate() === 29) {
        const y = nextBday.getFullYear();
        const isLeap = (y%4===0 && y%100!==0) || (y%400===0);
        if(!isLeap) nextBday = new Date(y,1,28,12,0,0,0);
      }
    }

    const remaining = daysBetween(todayNoon, nextBday);
    bdayText.textContent = remaining === 0 ? "Ø§Ù„ÙŠÙˆÙ… Ù‡Ùˆ Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ! ğŸ‰" : `Ø¨Ø§Ù‚ÙŠ: ${formatNumber(remaining)} ÙŠÙˆÙ…`;
    bdayDateText.textContent = `Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ Ø§Ù„Ù‚Ø§Ø¯Ù…: ${pad2(nextBday.getDate())}/${pad2(nextBday.getMonth()+1)}/${nextBday.getFullYear()}`;

    // Live counter
    stopLive();
    liveBirth = birth;

    function tick(){
      const n = new Date();
      const seconds = Math.floor((n.getTime() - liveBirth.getTime()) / 1000);
      if(seconds < 0){ liveText.textContent = "â€”"; return; }
      const mins = Math.floor(seconds/60);
      const hours = Math.floor(mins/60);
      const days = Math.floor(hours/24);
      liveText.textContent = `${formatNumber(seconds)} Ø«Ø§Ù†ÙŠØ© â€¢ ${formatNumber(mins)} Ø¯Ù‚ÙŠÙ‚Ø© â€¢ ${formatNumber(hours)} Ø³Ø§Ø¹Ø© â€¢ ${formatNumber(days)} ÙŠÙˆÙ…`;
    }
    tick();
    liveTimer = setInterval(tick, 1000);

    ageResult.style.display = "block";
  }

  ageBtn.addEventListener("click", renderAge);
  clearAgeBtn.addEventListener("click", () => {
    birthEl.value = "";
    asofEl.value = "";
    ageResult.style.display = "none";
    ageText.textContent = "";
    ageKpis.innerHTML = "";
    liveText.textContent = "â€”";
    bdayText.textContent = "â€”";
    bdayDateText.textContent = "";
    stopLive();
  });

  // Diff tool
  const d1El = document.getElementById("d1");
  const d2El = document.getElementById("d2");
  const calcDiffBtn = document.getElementById("calcDiffBtn");
  const clearDiffBtn = document.getElementById("clearDiffBtn");
  const diffResult = document.getElementById("diffResult");
  const diffText = document.getElementById("diffText");
  const diffKpis = document.getElementById("diffKpis");

  calcDiffBtn.addEventListener("click", () => {
    const a = parseDateInput(d1El.value);
    const b = parseDateInput(d2El.value);
    if(!a || !b){ alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠÙ†."); return; }
    const start = a.getTime() <= b.getTime() ? a : b;
    const end   = a.getTime() <= b.getTime() ? b : a;

    const ymd = diffYMD(start, end);
    const totalDays = Math.abs(daysBetween(start, end));

    diffText.textContent = `Ø§Ù„ÙØ±Ù‚ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…ÙŠ: ${ymd.years} Ø³Ù†Ø©ØŒ ${ymd.months} Ø´Ù‡Ø±ØŒ ${ymd.days} ÙŠÙˆÙ…`;
    diffKpis.innerHTML = `
      <div class="kpi"><div class="t">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£ÙŠØ§Ù…</div><div class="v">${formatNumber(totalDays)}</div></div>
      <div class="kpi"><div class="t">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø³Ø§Ø¨ÙŠØ¹</div><div class="v">${formatNumber(Math.floor(totalDays/7))}</div></div>
      <div class="kpi"><div class="t">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø§Ø¹Ø§Øª (ØªÙ‚Ø±ÙŠØ¨)</div><div class="v">${formatNumber(totalDays*24)}</div></div>
    `;
    diffResult.style.display = "block";
  });

  clearDiffBtn.addEventListener("click", () => {
    d1El.value = "";
    d2El.value = "";
    diffResult.style.display = "none";
    diffText.textContent = "";
    diffKpis.innerHTML = "";
  });
</script>
</body>
</html>


